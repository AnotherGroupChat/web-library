<script id="childitemsTemplate" type="text/x-jsrender">
    {{if childItems.length}}
    <h4>Notes and Attachments</h4>
    <ul id="notes-and-attachments">
    {{for childItems}}
        <li>
            {{if #data.apiObj.data.itemType == 'note'}}
                <span class='sprite-icon sprite-treeitem-{{attr:#data.apiObj.data.itemTypeImageClass()}} pull-left'></span>
                <a class='item-select-link' data-itemKey='{{attr:#data.apiObj.key}}' href='{{url:~Zotero.url.itemHref(#data)}}' title='{{attr:#data.apiObj.data.title}}'>{{>#data.apiObj.data.title}}</a>
            {{else attachmentDownloadUrl == '' }}
                <span class='sprite-icon sprite-treeitem-{{attr:#data.itemTypeImageClass()}} pull-left'></span>
                {{>#data.apiObj.data.title}}
                (<a class='item-select-link' data-itemKey='{{attr:#data.apiObj.key}}' href='{{url:~Zotero.url.itemHref(#data)}}' title='{{attr:#data.apiObj.data.title}}'>Attachment Details</a>)
            {{else}}
                <span class='sprite-icon sprite-treeitem-{{attr:itemTypeImageClass()}} pull-left'></span>
                <a class='itemdownloadlink' href="{{url:~Zotero.url.attachmentDownloadUrl(#data)}}">{{>#data.apiObj.data.title}} {{>~Zotero.url.attachmentFileDetails(#data)}}</a>
                (<a class='item-select-link' data-itemKey='{{attr:#data.apiObj.key}}' href='{{url:~Zotero.url.itemHref(#data)}}' title='{{attr:#data.apiObj.data.title}}'>Attachment Details</a>)
            {{/if}}
        </li>
    {{/for}}
    </ul>
    {{/if}}
</script>
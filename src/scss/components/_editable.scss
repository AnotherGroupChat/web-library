//
// Editable
// --------------------------------------------------

.editable {
	flex: 1 1 auto;
	min-width: 0; // Fix truncation

	.editable-content {
		white-space: pre-wrap;
	}

	.editable-control {
		flex: 1 1 auto;
		font: inherit;
		line-height: normal;
		text-align: inherit;
		margin: -($editable-border-width + $editable-padding);
		width: calc(
			100% + #{2 * ($editable-border-width + $editable-padding)}
		);
		padding: $editable-padding;
		border: $editable-border-width solid $editable-border-color;
		color: $editable-color;
		background: $editable-bg;
		border-radius: $editable-border-radius;
		background-clip: padding-box;

		&:focus {
			outline: none;
		}

		.busy > & {
			padding-right: $editable-padding + $space-md + 1px;
		}
	}

	&:not(.textarea) {
		.editable-content {
			@include text-truncate;
		}
	}

	// Textarea
	&.textarea {
		.editable-content,
		.editable-control {
			line-height: $line-height-base;
		}

		.editable-control {
			padding-top: 0; // No padding for visual 2px padding between border and text selection
			padding-bottom: 0;
		}
	}
}

.pseudo-editable {
	@include mouse-and-bp-up(md) {
		line-height: normal;

		.Select-control {
			padding: $editable-padding;
			border: $input-border-width solid transparent;
			width: calc(100% + #{2 * $editable-border-width});
			margin: -$editable-border-width;
			background-color: transparent;
			cursor: pointer;
			transition: none;
		}

		&:hover {
			.Select-control {
				background-color: $editable-hover-bg;
				border-color: $editable-hover-bg;
			}
		}

		.Select-value {
			padding: 0 $editable-padding;
		}

		.Select--single {
			&.has-value {
				.Select-value {
					padding-right: $space-md;
				}
			}
		}

		.Select-arrow {
			display: none;
			margin-right: 2px; // Tweak optical arrow position
		}

		&.is-focused {
			.Select-control {
				border-color: $input-focus-color;
				background-color: $input-bg;
				border-radius: 1px;
			}

			.Select-arrow {
				display: block;
			}
		}

		.Select-menu-outer {
			left: -$editable-padding;
			top: calc(100% + #{$space-min + $input-border-width + $editable-padding + $input-border-width});
			right: -$editable-padding;
		}
	}
}






//.editable {
//	flex: 1 1 auto;
//	display: flex;
//	justify-content: space-between;
//	align-items: center;
//	min-width: 0; // Fix truncation
//
//	//@include bp-up(sm) {
//	//	padding-left: $editable-border-width + $editable-padding-x;
//	//
//	//	&.editing {
//	//		padding-left: 0;
//	//	}
//	//}
//
//	.editable-value {
//		@include css-truncate;
//		flex: 1 1 auto;
//		line-height: normal; // Flex alignment is more consistent
//	}
//
//	.editable-content.placeholder {
//		&:before {
//			content: '(';
//		}
//		&:after {
//			content: ')';
//		}
//
//		color: $shade-5;
//	}
//
//	//&:not(.editing):hover {
//	//	.editable-value {
//	//		background-color: rgb(190, 205, 239);
//	//		border: 1px solid rgb(116, 146, 221);
//	//		border-radius: 10px;
//	//		min-height: calc(1em + 4px);
//	//		margin: -1px -1px -1px -1px;
//	//	}
//	//}
//}
//
//.editable-control {
//	flex: 1 1 0;
//	font: {
//		family: inherit;
//		size: inherit;
//		weight: inherit;
//	}
//	text-align: inherit;
//	line-height: normal;
//	padding: $editable-padding-y $editable-padding-x;
//	border: $editable-border-width solid $editable-border-color;
//	color: $editable-color;
//	background: $editable-bg;
//	border-radius: $editable-border-radius;
//	margin: -2em 0; // For the sake of safety
//	background-clip: padding-box;
//	max-width: 100%;
//
//	.select & {
//		z-index: 2;
//	}
//
//	.textarea & {
//		margin: 0;
//		height: 6em;
//	}
//
//	&:focus {
//		box-shadow: none; // Override generic focus styles
//	}
//}
//
//// @TODO: very rudementary styling, .creators field needs real styling
//.creators {
//	//width: 100%;
//
//	.creators-entry {
//		display: flex;
//		align-items: flex-start;
//		@include horizontal;
//
//		.key .editable {
//			flex: initial;
//		}
//
//		&.creators-type-editing .key {
//			display: block;
//		}
//	}
//}

//
// Rich editor
// --------------------------------------------------

.rich-editor-container {
	display: flex;
	flex-direction: column;
	position: absolute;
	top: $touch-header-height;
	right: 0;
	bottom: 0;
	left: 0;
	z-index: $z-index-rich-editor-touch;
	background: $panel-bg;
	transform: translate3d(100%, 0, 0);
	transition: transform $nav-transition;

	@include bp-down(xs) {
		top: 0;
		transform: translate3d(125%, 0, 0);
	}

	@include bp-only(md) {
		top: calc(50% + #{$touch-header-height});
	}

	@include bp-up(lg) {
		left: auto;
		width: $item-details-width-lg-touch;
	}

	.view-note-active & {
		transform: translate3d(0, 0, 0);

		@include bp-down(xs) {
			transform: translate3d(25%, 0, 0);
		}
	}
}

.rich-editor {
	flex: 1 1 0;
	display: flex;
	flex-direction: column;
	background-color: $editor-bg;

	@include mouse-and-bp-up(lg) {
		border-top: $border-width solid $editor-border-color;
	}

	.editor-container,
	.mce-tinymce,
	.mce-stack-layout,
	.mce-edit-area {
		flex: 1 1 0;
		display: flex;
		flex-direction: column;
	}

	.tox-tinymce {
		border: none;
	}

	.tox-edit-area {
		border-top-color: $tox-edit-area-border-color !important;
	}

	.btn-icon {
		@include state(".btn-icon:hover", ".btn-group:hover .btn-icon") {
			background-color: $btn-icon-hover-bg;;
		}
	}

	.btn-group {
		.btn-icon {
			&:last-of-type {
				margin-left: 0;

				@include state(".btn-group:hover") {
					&::before {
						content: "";
						position: absolute;
						top: 2px - $input-border-width;
						bottom: 2px - $input-border-width;
						left: 0;
						width: $input-border-width;
						background: $btn-icon-separator-color;
					}
				}
			}
		}

		[class*="icon-chevron"] {
			@include mouse-and-bp-up(md) {
				margin: 0 -4px;
			}
		}
	}

	.dropdown {
		pre {
			margin: 0;
		}
	}

	.icon {
		@include touch-or-bp-down(sm) {
			color: $icon-color;
		}
	}

	.icon-color-swatch {
		@include touch-or-bp-down(sm) {
			position: absolute;
			left: $space-xs;
			top: $space-xs;
			color: transparent;
		}

		@include mouse-and-bp-up(md) {
			position: absolute;
			left: $space-min;
			top: $space-min;
			color: transparent;
		}

		&[style*="rgb(255, 255, 255)"] {
			opacity: 0.75;
		}
	}
}
